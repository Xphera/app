<!--
  Generated template for the DetallePagoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Detalle de pago</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <form [formGroup]="myForm" (ngSubmit)="guardar()">
    <ion-card class="item-ribbon">
      <ion-card-header>
        Paquete
      </ion-card-header>
      <span class="ribbon {{ paquete.ribbon.estilo }}" *ngIf="paquete.ribbon">
        <span>{{ paquete.ribbon.text }}</span>
      </span>
      <ion-card-content>
        <h2><span ion-text color="color2">{{ paquete.nombre }}</span></h2>
        <p>
          {{ paquete.detalle }}
        </p>

        <ion-grid>
          <ion-row>
            <ion-col col-6>
              <ion-card-title ion-text color="tomato">
                sesiones {{ paquete.sesiones.length }}
              </ion-card-title>
            </ion-col>
            <ion-col col-6>
              <ion-card-title ion-text color="tomato">
                {{ paquete.valor|currency:CONFIG.FORMATO_MONEDA:true: CONFIG.FORMATO_MONEDA_DECIMAL}}
              </ion-card-title>
            </ion-col>
          </ion-row>
        </ion-grid>

      </ion-card-content>

    </ion-card>


    <ion-card>
      <ion-item-group>
        <ion-item-divider color="light">
          Tarjetas de cr√©dito
          <div ion-button icon-only clear (click)="modalAgregar()" item-right>
            <ion-icon name="md-add"></ion-icon>
          </div>
        </ion-item-divider>
        <!-- <ion-list radio-group> -->
        <ion-list radio-group formControlName="tokenId">
          <ion-item *ngIf="_metodoPagoPrvdr.td.length == 0">
            <ion-label>Sin medio de pagos registrado ... </ion-label>
          </ion-item>

          <ion-item *ngFor="let card of _metodoPagoPrvdr.td">
            <ion-icon name="custom-{{ card.paymentMethod }}" item-left></ion-icon>
            <ion-label>{{ card.maskedNumber }}</ion-label>
            <ion-radio [value]="card.creditCardTokenId"></ion-radio>
          </ion-item>


        </ion-list>
      </ion-item-group>

      <ion-item-group *ngIf="myForm.controls.tokenId.valid">
        <ion-item-divider color="light">Coutas
          <ion-badge item-end>{{ myForm.controls.cuotas.value }}</ion-badge>
        </ion-item-divider>
        <ion-item>
          <ion-range min="1" max="12" pin="true" formControlName="cuotas">
            <ion-label range-left>1</ion-label>
            <ion-label range-right>12</ion-label>
          </ion-range>
        </ion-item>
      </ion-item-group>


      <ion-row no-padding class="linea">
        <ion-col>
          <button ion-button full icon-start [disabled]="!myForm.valid" type="submit">
          Pagar
        </button>
        </ion-col>
      </ion-row>
    </ion-card>
  </form>

</ion-content>
