<!--
  Generated template for the OlvidoCuentaPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>
  <ion-navbar transparent color="primary">
  </ion-navbar>
</ion-header>


<ion-content id="registration-v1">
  <!-- Logo -->
  <div class="logo animated fadeInDown">
    <img [src]="CONFIG.LOGO ">
    <h2>{{ CONFIG.APP_NAME }}</h2>
  </div>
  <div class="main-body animated zoomIn" padding>

      <form (ngSubmit)="enviarUsuario()"  [formGroup]="myForm" *ngIf="formCodigoActivo == false">
        <ion-list>
          <ion-item>
            <ion-input class="ion-ios-locked-outline" type="text" placeholder="Correo electrónico" formControlName="usuario"></ion-input>
          </ion-item>
          <div class="error-box" *ngIf="myForm.controls.usuario.hasError('email') &&  myForm.controls.usuario.touched">
            <p>Correo electrónico inválido</p>
          </div>
          <!-- Buttons -->
          <div class="buttons animated fadeInUp">
            <button ion-button type="submit" color="primary" block [disabled]="!myForm.valid">
                Enviar
            </button>
          </div>
        </ion-list>
      </form>

    <!-- [formGroup]="myForm" -->
      <form [formGroup]="formCodigo" (ngSubmit)="enviarCodigo()" *ngIf="formCodigoActivo == true">
        <ion-list>
          <!-- Email -->
          <ion-item>
            <ion-input class="ion-ios-locked-outline" type="email" placeholder="Correo Electrónico" formControlName="usuario" [readonly]="true"></ion-input>
          </ion-item>
          <div class="error-box" *ngIf="formCodigo.controls.usuario.hasError('email') && formCodigo.controls.usuario.touched">
            <p>Correo electrónico inválido</p>
          </div>

          <ion-item>
            <ion-input class="ion-ios-locked-outline" type="email" placeholder="Código de activación" formControlName="codigo"></ion-input>
          </ion-item>

          <!-- Password -->
          <ion-item>
            <ion-input class="ion-ios-locked-outline" type="password" placeholder="Contraseña" formControlName="password"></ion-input>
          </ion-item>
          <div class="error-box" *ngIf="formCodigo.controls.password.hasError('required') && formCodigo.controls.password.touched">
            <p>Contraseña es obligatorio</p>
          </div>
          <!-- Confirm Password -->
          <ion-item>
            <ion-input class="ion-ios-locked-outline" type="password" placeholder="Repita Contraseña" formControlName="repeatpassword"></ion-input>
          </ion-item>
          <div class="error-box" *ngIf="formCodigo.errors?.mismatchedPasswords && formCodigo.controls.repeatpassword.touched">
            <p>Contraseña y Repita contraseña no coinciden</p>
          </div>
          <!-- Buttons -->
          <!--  -->
          <div class="buttons animated fadeInUp">
            <button ion-button type="submit" color="primary" block [disabled]="!formCodigo.valid">
              Crear Cuenta
            </button>
          </div>

        </ion-list>
      </form>


  </div>
</ion-content>
